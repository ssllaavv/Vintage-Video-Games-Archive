
<div id="wrapper_{{ widget.attrs.id }}" class="custom-image-upload field">
    {% if widget.has_image %}
        <div class="image-preview-container">
            <img src="{{ widget.image_url }}" alt="Current image" class="image-preview">
            <div class="image-actions">
                <label for="{{ widget.attrs.id }}" class="button primary small">Change</label>
                <button type="button" class="button small" onclick="clearImage('{{ widget.attrs.id }}')">Clear</button>
            </div>
        </div>
    {% else %}
        <div class="upload-container">
            <label for="{{ widget.attrs.id }}" class="button primary small">Upload image</label>
        </div>
    {% endif %}

    <input type="file"
           name="{{ widget.name }}"
           id="{{ widget.attrs.id }}"
           {% if widget.is_required %}required{% endif %}
           class="image-input"
           onchange="handleImageUpload(this)"
           accept="image/*"
           style="display: none;">

    <input type="checkbox"
           name="{{ widget.name }}-clear"
           id="{{ widget.attrs.id }}-clear"
           class="clear-checkbox"
           style="display: none;">
</div>

<style>
     /* Custom Image Upload Styles - Solid State */
.custom-image-upload {
    margin-bottom: 2em;
    border: solid 1px rgba(255, 255, 255, 0.15);
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.05);
}

.upload-container {
    padding: 2em;
    text-align: center;
    cursor: pointer;
}

.image-preview-container {
    text-align: center;
    padding: 2em;
}

.image-preview {
    max-width: 100%;
    max-height: 300px;
    border-radius: 4px;
    margin-bottom: 1em;
}

.image-actions {
    display: flex;
    justify-content: center;
    gap: 1em;
    margin-top: 1em;
}

/* Remove custom button styles as we're using Solid-State's default classes */
</style>